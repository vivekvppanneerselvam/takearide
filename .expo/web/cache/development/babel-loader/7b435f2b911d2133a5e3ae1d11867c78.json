{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeRouterFlux = require(\"react-native-router-flux\");\n\nvar _nativeBase = require(\"native-base\");\n\nvar _mapcontainer = _interopRequireDefault(require(\"./components/mapcontainer\"));\n\nvar _header = _interopRequireDefault(require(\"../header\"));\n\nvar _footer = _interopRequireDefault(require(\"../footer\"));\n\nvar _fare = _interopRequireDefault(require(\"./components/fare\"));\n\nvar _fab = _interopRequireDefault(require(\"./components/fab\"));\n\nvar _finddriver = _interopRequireDefault(require(\"./components/finddriver\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _action = require(\"./action\");\n\nvar _jsxFileName = \"D:\\\\WS\\\\reactws\\\\takearide\\\\src\\\\modules\\\\home\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar location_loading = require(\"../../assets/img/location_loading.gif\");\n\nvar taxiLogo = require(\"../../assets/img/carmarker.png\");\n\nvar carMarker = require(\"../../assets/img/carmarker.png\");\n\nfunction Home(props) {\n  (0, _react.useEffect)(function () {\n    (0, _action.requestLocationPermission)();\n    props.getCurrentLocation();\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (props.region !== undefined) {\n      if (props.region.latitude !== undefined) {\n        props.getNearByDrivers(props.region);\n      }\n    }\n  }, [props.region]);\n  (0, _react.useEffect)(function () {\n    console.log('props.booking', props.booking);\n\n    if (props.booking.status === \"confirmed\") {\n      props.navigation.navigate(\"TrackDriver\", {\n        type: \"reset\"\n      });\n    }\n  }, [props.booking]);\n\n  var onBookClick = function onBookClick() {\n    props.bookCar();\n  };\n\n  (0, _react.useEffect)(function () {\n    console.log('fare', props.fare);\n  }, [props.fare]);\n  return _react.default.createElement(_nativeBase.Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }\n  }, (props.region === {} || props.region === undefined) && _react.default.createElement(_reactNative.Image, {\n    resizeMode: \"contain\",\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    source: location_loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }), props.booking.status !== \"pending\" && _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, props.region.latitude && _react.default.createElement(_mapcontainer.default, {\n    region: props.region,\n    carMarker: carMarker,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), props.fare && _react.default.createElement(_fare.default, {\n    fare: props.fare,\n    distanceMatrix: props.distanceMatrix,\n    onPressAction: onBookClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), _react.default.createElement(_footer.default, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }\n  })) || _react.default.createElement(_finddriver.default, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    region: state.home.region || {},\n    inputData: state.home.inputData || {},\n    resultTypes: state.home.resultTypes || {},\n    predictions: state.home.predictions || [],\n    selectedAddress: state.home.selectedAddress || {},\n    fare: state.home.fare,\n    distanceMatrix: state.home.distanceMatrix,\n    booking: state.home.booking || {},\n    nearByDrivers: state.home.nearByDrivers || []\n  };\n};\n\nvar mapActionCreators = {\n  getCurrentLocation: _action.getCurrentLocation,\n  getInputData: _action.getInputData,\n  toggleSearchResultModal: _action.toggleSearchResultModal,\n  getAddressPredictions: _action.getAddressPredictions,\n  getSelectedAddress: _action.getSelectedAddress,\n  bookCar: _action.bookCar,\n  getNearByDrivers: _action.getNearByDrivers\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapActionCreators)(Home);\n\nexports.default = _default;","map":{"version":3,"sources":["D:/WS/reactws/takearide/src/modules/home/index.js"],"names":["location_loading","require","taxiLogo","carMarker","Home","props","getCurrentLocation","region","undefined","latitude","getNearByDrivers","console","log","booking","status","navigation","navigate","type","onBookClick","bookCar","fare","height","width","flex","distanceMatrix","mapStateToProps","state","home","inputData","resultTypes","predictions","selectedAddress","nearByDrivers","mapActionCreators","getInputData","toggleSearchResultModal","getAddressPredictions","getSelectedAddress"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {View, Image, Text, StyleSheet} from \"react-native\";\r\nimport { Actions } from \"react-native-router-flux\";\r\nimport { Container }  from \"native-base\";\r\nimport MapContainer from \"./components/mapcontainer\";\r\nimport HeaderComponent from \"../header\";\r\nimport FooterComponent from \"../footer\";\r\nimport Fare from \"./components/fare\";\r\nimport Fab from \"./components/fab\";\r\nimport FindDriver from \"./components/finddriver\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n\tgetCurrentLocation,\r\n\tgetInputData,\r\n\ttoggleSearchResultModal,\r\n\tgetAddressPredictions,\r\n\tgetSelectedAddress,\r\n\tbookCar,\r\n\tgetNearByDrivers,\r\n\trequestLocationPermission\r\n} from \"./action\";\r\nconst location_loading = require(\"../../assets/img/location_loading.gif\");\r\nconst taxiLogo = require(\"../../assets/img/carmarker.png\");\r\nconst carMarker = require(\"../../assets/img/carmarker.png\");\r\n\r\n\r\nfunction Home(props){\t\r\n\tuseEffect(()=>{\r\n\t\trequestLocationPermission()\r\n\t\tprops.getCurrentLocation();\t\t\r\n\t},[])\r\n\tuseEffect(()=>{\r\n\t\tif(props.region !== undefined){\r\n\t\t\tif(props.region.latitude !== undefined){\r\n\t\t\t\tprops.getNearByDrivers(props.region);\r\n\t\t\t}\r\n\t\t}\r\n\t},[props.region])\r\n\r\n\tuseEffect(()=>{\r\n\t\tconsole.log('props.booking',props.booking)\r\n\t\t if (props.booking.status === \"confirmed\" ){\r\n\t\t\t//Actions.trackDriver({type: \"reset\"});\r\n\t\t\tprops.navigation.navigate(\"TrackDriver\", {type:\"reset\"})\r\n        }\r\n\t\t//props.getCurrentLocation();\t\t\r\n\t},[props.booking])\r\n\r\n\tconst onBookClick =()=>{\r\n\t\tprops.bookCar()\r\n\t}\r\n\r\n\tuseEffect(()=>{\r\n\t\tconsole.log('fare',props.fare)\r\n\t},[props.fare])\r\n\t\t\r\n\treturn(\r\n\t\t<Container>\t\r\n\t\t\t{(props.region === {} || props.region === undefined) && \r\n\t\t\t\t<Image resizeMode=\"contain\" style={{height: '100%', width: '100%'}} source={location_loading}/>\t\r\n\t\t\t}\r\n\t\t\t{ (props.booking.status !== \"pending\") &&\r\n\t\t\t\t<View style={{flex:1}}>\r\n\t\t\t\t\t{/* <HeaderComponent logo={taxiLogo}/> */}\r\n\t\t\t\t\t{props.region.latitude &&\r\n\t\t\t\t\t\t<MapContainer region={props.region} \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcarMarker={carMarker}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{/* {props.nearByDrivers.length>0 && <Fab onPressAction={onBookClick}/>} */}\r\n\t\t\t\t\t{props.fare && <Fare fare={props.fare} distanceMatrix={props.distanceMatrix} onPressAction={onBookClick} />}\r\n\t\t\t\t\t<FooterComponent/>\r\n\t\t\t\t</View>\r\n\t\t\t\t||\r\n\t\t\t\t<FindDriver/>\r\n\t\t\t}\r\n\t\t\t\r\n\t\t</Container>\r\n\r\n\t);\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tregion: state.home.region || {},\r\n\tinputData:state.home.inputData || {},\r\n\tresultTypes:state.home.resultTypes || {},\r\n\tpredictions:state.home.predictions ||  [],\r\n\tselectedAddress:state.home.selectedAddress || {},\r\n\tfare:state.home.fare,\r\n\tdistanceMatrix: state.home.distanceMatrix, \r\n\tbooking:state.home.booking || {},\r\n\tnearByDrivers:state.home.nearByDrivers || []\t\r\n});\r\n\r\nconst mapActionCreators = {\r\n\tgetCurrentLocation,\r\n\tgetInputData,\r\n\ttoggleSearchResultModal,\r\n\tgetAddressPredictions,\r\n\tgetSelectedAddress,\r\n\tbookCar,\r\n\tgetNearByDrivers\r\n};\r\nexport default connect(mapStateToProps, mapActionCreators)(Home);"]},"metadata":{},"sourceType":"script"}