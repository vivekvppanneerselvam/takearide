{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _sidenavbar = _interopRequireDefault(require(\"../sidenavbar\"));\n\nvar _reactNavigation = require(\"react-navigation\");\n\nvar _stack = require(\"@react-navigation/stack\");\n\nvar _drawer = require(\"@react-navigation/drawer\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-community/async-storage\"));\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _action = require(\"../../modules/login/action\");\n\nvar _login = _interopRequireDefault(require(\"../../modules/login\"));\n\nvar _home = _interopRequireDefault(require(\"../../modules/home\"));\n\nvar _trackdriver = _interopRequireDefault(require(\"../../modules/trackdriver\"));\n\nvar _history = _interopRequireDefault(require(\"../../modules/history\"));\n\nvar _index = require(\"./index\");\n\nvar _splash = _interopRequireDefault(require(\"../../modules/login/splash\"));\n\nvar _payment = _interopRequireDefault(require(\"../../modules/payment\"));\n\nvar _profile = _interopRequireDefault(require(\"../../modules/profile\"));\n\nvar _signup = _interopRequireDefault(require(\"../../modules/signup\"));\n\nvar _chat = _interopRequireDefault(require(\"../../modules/chat\"));\n\nvar _jsxFileName = \"D:\\\\WS\\\\reactws\\\\takearide\\\\src\\\\app\\\\helpers\\\\routes.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Stack = (0, _stack.createStackNavigator)();\nvar Drawer = (0, _drawer.createDrawerNavigator)();\n\nfunction Container(props) {\n  var _React$useState = _react.default.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      isDarkTheme = _React$useState2[0],\n      setIsDarkTheme = _React$useState2[1];\n\n  var initialLoginState = {\n    isLoading: true,\n    userName: null,\n    userToken: null\n  };\n\n  var CustomDefaultTheme = _objectSpread({}, _native.DefaultTheme, {\n    colors: _objectSpread({}, _native.DefaultTheme.colors, {\n      background: '#ffffff',\n      text: '#333333'\n    })\n  });\n\n  var CustomDarkTheme = _objectSpread({}, _native.DarkTheme, {\n    colors: _objectSpread({}, _native.DarkTheme.colors, {\n      background: '#333333',\n      text: '#ffffff'\n    })\n  });\n\n  var theme = isDarkTheme ? CustomDarkTheme : CustomDefaultTheme;\n\n  var loginReducer = function loginReducer(prevState, action) {\n    switch (action.type) {\n      case 'RETRIEVE_TOKEN':\n        return _objectSpread({}, prevState, {\n          userToken: action.token,\n          isLoading: false\n        });\n\n      case 'LOGIN':\n        return _objectSpread({}, prevState, {\n          userName: action.id,\n          userToken: action.token,\n          isLoading: false\n        });\n\n      case 'LOGOUT':\n        return _objectSpread({}, prevState, {\n          userName: null,\n          userToken: null,\n          isLoading: false\n        });\n\n      case 'REGISTER':\n        return _objectSpread({}, prevState, {\n          userName: action.id,\n          userToken: action.token,\n          isLoading: false\n        });\n    }\n  };\n\n  var _React$useReducer = _react.default.useReducer(loginReducer, initialLoginState),\n      _React$useReducer2 = (0, _slicedToArray2.default)(_React$useReducer, 2),\n      loginState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var authContext = _react.default.useMemo(function () {\n    return {\n      signIn: function signIn(foundUser) {\n        var userToken, userName;\n        return _regenerator.default.async(function signIn$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userToken = String(foundUser.token);\n                userName = foundUser.name;\n                _context.prev = 2;\n                _context.next = 5;\n                return _regenerator.default.awrap(_asyncStorage.default.setItem('userToken', userToken));\n\n              case 5:\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0);\n\n              case 10:\n                dispatch({\n                  type: 'LOGIN',\n                  id: userName,\n                  token: userToken\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, [[2, 7]], Promise);\n      },\n      signOut: function signOut() {\n        return _regenerator.default.async(function signOut$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regenerator.default.awrap(props.cleanUp());\n\n              case 3:\n                _context2.next = 5;\n                return _regenerator.default.awrap(_asyncStorage.default.removeItem('userToken'));\n\n              case 5:\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 10:\n                dispatch({\n                  type: 'LOGOUT'\n                });\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 7]], Promise);\n      },\n      signUp: function signUp() {},\n      toggleTheme: function toggleTheme() {\n        setIsDarkTheme(function (isDarkTheme) {\n          return !isDarkTheme;\n        });\n      }\n    };\n  }, []);\n\n  (0, _react.useEffect)(function () {\n    setTimeout(function _callee() {\n      var userToken;\n      return _regenerator.default.async(function _callee$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              userToken = null;\n              _context3.prev = 1;\n              _context3.next = 4;\n              return _regenerator.default.awrap(_asyncStorage.default.getItem('userToken'));\n\n            case 4:\n              userToken = _context3.sent;\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.log(_context3.t0);\n\n            case 10:\n              dispatch({\n                type: 'RETRIEVE_TOKEN',\n                token: userToken\n              });\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[1, 7]], Promise);\n    }, 1000);\n  }, []);\n\n  if (loginState.isLoading) {\n    return _react.default.createElement(_reactNative.View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, _react.default.createElement(_reactNative.ActivityIndicator, {\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return _react.default.createElement(_index.AuthContext.Provider, {\n    value: authContext,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_native.NavigationContainer, {\n    theme: theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, loginState.userToken !== null ? _react.default.createElement(DrawerNavigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }) : _react.default.createElement(RootStackScreen, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  })));\n}\n\nvar NavigationDrawerStructure = function NavigationDrawerStructure(props) {\n  var toggleDrawer = function toggleDrawer() {\n    props.navigationProps.toggleDrawer();\n  };\n\n  return _react.default.createElement(_reactNative.View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      return toggleDrawer();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_reactNative.Image, {\n    source: {\n      uri: 'https://raw.githubusercontent.com/AboutReact/sampleresource/master/drawerWhite.png'\n    },\n    style: {\n      width: 25,\n      height: 25,\n      marginLeft: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  })));\n};\n\nfunction MainNavigator(_ref) {\n  var navigation = _ref.navigation;\n  return _react.default.createElement(Stack.Navigator, {\n    screenOptions: {\n      headerLeft: function headerLeft() {\n        return _react.default.createElement(NavigationDrawerStructure, {\n          navigationProps: navigation,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 31\n          }\n        });\n      },\n      headerStyle: {\n        backgroundColor: '#f4511e'\n      },\n      headerTintColor: '#fff',\n      headerTitleStyle: {\n        fontWeight: 'bold'\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(Stack.Screen, {\n    name: \"Home\",\n    component: _home.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"TrackDriver\",\n    component: _trackdriver.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"History\",\n    component: _history.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"Payment\",\n    component: _payment.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"Profile\",\n    component: _profile.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"FAQ\",\n    component: _chat.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar RootStackScreen = function RootStackScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  return _react.default.createElement(Stack.Navigator, {\n    headerMode: \"none\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(Stack.Screen, {\n    name: \"login\",\n    component: _login.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"SignUp\",\n    component: _signup.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Stack.Screen, {\n    name: \"SplashScreen\",\n    component: _splash.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }));\n};\n\nfunction DrawerNavigator() {\n  return _react.default.createElement(Drawer.Navigator, {\n    drawerContentOptions: {\n      activeTintColor: '#e91e63',\n      itemStyle: {\n        marginVertical: 30\n      }\n    },\n    drawerContent: function drawerContent(props) {\n      return _react.default.createElement(_sidenavbar.default, (0, _extends2.default)({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 36\n        }\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(Drawer.Screen, {\n    name: \"Home\",\n    component: MainNavigator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Drawer.Screen, {\n    name: \"TrackDriver\",\n    component: _trackdriver.default,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar MainRoute = Container;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, {\n  cleanUp: _action.cleanUp\n})(MainRoute);\n\nexports.default = _default;","map":{"version":3,"sources":["D:/WS/reactws/takearide/src/app/helpers/routes.js"],"names":["Stack","Drawer","Container","props","React","useState","isDarkTheme","setIsDarkTheme","initialLoginState","isLoading","userName","userToken","CustomDefaultTheme","NavigationDefaultTheme","colors","background","text","CustomDarkTheme","NavigationDarkTheme","theme","loginReducer","prevState","action","type","token","id","useReducer","loginState","dispatch","authContext","useMemo","signIn","foundUser","String","name","AsyncStorage","setItem","console","log","signOut","cleanUp","removeItem","signUp","toggleTheme","setTimeout","getItem","flex","justifyContent","alignItems","NavigationDrawerStructure","toggleDrawer","navigationProps","flexDirection","uri","width","height","marginLeft","MainNavigator","navigation","headerLeft","headerStyle","backgroundColor","headerTintColor","headerTitleStyle","fontWeight","Home","TrackDriver","History","Payment","Profile","Chat","RootStackScreen","Login","SignUp","SplashScreen","DrawerNavigator","activeTintColor","itemStyle","marginVertical","MainRoute","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { View, Text, Button, ActivityIndicator, TouchableOpacity, Image } from \"react-native\";\r\nimport DrawerContent from \"../sidenavbar\"\r\nimport { createAppContainer } from 'react-navigation';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport AsyncStorage from '@react-native-community/async-storage';\r\nimport {\r\n    NavigationContainer, DefaultTheme as NavigationDefaultTheme,\r\n    DarkTheme as NavigationDarkTheme\r\n} from '@react-navigation/native';\r\nimport { connect } from 'react-redux';\r\nimport { cleanUp } from '../../modules/login/action'\r\nimport Login from \"../../modules/login\"\r\nimport Home from '../../modules/home'\r\nimport TrackDriver from '../../modules/trackdriver'\r\nimport History from '../../modules/history'\r\nimport { AuthContext } from './index'\r\nimport SplashScreen from '../../modules/login/splash';\r\nimport Payment from '../../modules/payment'\r\nimport Profile from '../../modules/profile'\r\nimport SignUp from '../../modules/signup'\r\nimport Chat from '../../modules/chat'\r\n\r\nconst Stack = createStackNavigator();\r\nconst Drawer = createDrawerNavigator();\r\n\r\nfunction Container(props) {\r\n    const [isDarkTheme, setIsDarkTheme] = React.useState(false);\r\n    const initialLoginState = {\r\n        isLoading: true,\r\n        userName: null,\r\n        userToken: null,\r\n    };\r\n    const CustomDefaultTheme = {\r\n        ...NavigationDefaultTheme,\r\n        colors: {\r\n            ...NavigationDefaultTheme.colors,\r\n            background: '#ffffff',\r\n            text: '#333333'\r\n        }\r\n    }\r\n\r\n    const CustomDarkTheme = {\r\n        ...NavigationDarkTheme,\r\n        colors: {\r\n            ...NavigationDarkTheme.colors,\r\n            background: '#333333',\r\n            text: '#ffffff'\r\n        }\r\n    }\r\n\r\n    const theme = isDarkTheme ? CustomDarkTheme : CustomDefaultTheme;\r\n\r\n    const loginReducer = (prevState, action) => {\r\n        switch (action.type) {\r\n            case 'RETRIEVE_TOKEN':\r\n                return {\r\n                    ...prevState,\r\n                    userToken: action.token,\r\n                    isLoading: false,\r\n                };\r\n            case 'LOGIN':\r\n                return {\r\n                    ...prevState,\r\n                    userName: action.id,\r\n                    userToken: action.token,\r\n                    isLoading: false,\r\n                };\r\n            case 'LOGOUT':\r\n                return {\r\n                    ...prevState,\r\n                    userName: null,\r\n                    userToken: null,\r\n                    isLoading: false,\r\n                };\r\n            case 'REGISTER':\r\n                return {\r\n                    ...prevState,\r\n                    userName: action.id,\r\n                    userToken: action.token,\r\n                    isLoading: false,\r\n                };\r\n        }\r\n    };\r\n\r\n    const [loginState, dispatch] = React.useReducer(loginReducer, initialLoginState);\r\n\r\n    const authContext = React.useMemo(() => ({\r\n        signIn: async (foundUser) => {\r\n            // setUserToken('fgkj');\r\n            // setIsLoading(false);\r\n            const userToken = String(foundUser.token);\r\n            const userName = foundUser.name;\r\n\r\n            try {\r\n                await AsyncStorage.setItem('userToken', userToken);\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n            // console.log('user token: ', userToken);\r\n            dispatch({ type: 'LOGIN', id: userName, token: userToken });\r\n        },\r\n        signOut: async () => {\r\n            // setUserToken(null);\r\n            // setIsLoading(false);\r\n            try {\r\n                await props.cleanUp()\r\n                await AsyncStorage.removeItem('userToken');\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n            dispatch({ type: 'LOGOUT' });\r\n        },\r\n        signUp: () => {\r\n            // setUserToken('fgkj');\r\n            // setIsLoading(false);\r\n        },\r\n        toggleTheme: () => {\r\n            setIsDarkTheme(isDarkTheme => !isDarkTheme);\r\n        }\r\n    }), []);\r\n\r\n    useEffect(() => {\r\n        setTimeout(async () => {\r\n            // setIsLoading(false);\r\n            let userToken;\r\n            userToken = null;\r\n            try {\r\n                userToken = await AsyncStorage.getItem('userToken');\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n            // console.log('user token: ', userToken);\r\n            dispatch({ type: 'RETRIEVE_TOKEN', token: userToken });\r\n        }, 1000);\r\n    }, []);\r\n\r\n    if (loginState.isLoading) {\r\n        return (\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <ActivityIndicator size=\"large\" />\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={authContext}>\r\n            <NavigationContainer theme={theme}>\r\n                {loginState.userToken !== null ? (\r\n                    <DrawerNavigator />\r\n                ) : <RootStackScreen />}\r\n            </NavigationContainer>\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nconst NavigationDrawerStructure = (props) => {\r\n    //Structure for the navigatin Drawer\r\n    const toggleDrawer = () => {\r\n        //Props to open/close the drawer\r\n        props.navigationProps.toggleDrawer();\r\n    };\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row' }}>\r\n            <TouchableOpacity onPress={() => toggleDrawer()}>\r\n                {/*Donute Button Image */}\r\n                <Image\r\n                    source={{ uri: 'https://raw.githubusercontent.com/AboutReact/sampleresource/master/drawerWhite.png' }}\r\n                    style={{ width: 25, height: 25, marginLeft: 5 }}\r\n                />\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n}\r\n\r\nfunction MainNavigator({ navigation }) {\r\n    return (\r\n        <Stack.Navigator screenOptions={{\r\n            headerLeft: () => <NavigationDrawerStructure navigationProps={navigation} />,\r\n            headerStyle: {\r\n                backgroundColor: '#f4511e', //Set Header color\r\n            },\r\n            headerTintColor: '#fff', //Set Header text color\r\n            headerTitleStyle: {\r\n                fontWeight: 'bold', //Set Header text style\r\n            }\r\n        }}>\r\n            {/* <Stack.Screen name=\"Login\" component={Login} /> */}\r\n            <Stack.Screen name=\"Home\" component={Home} />\r\n            <Stack.Screen name=\"TrackDriver\" component={TrackDriver} />\r\n            <Stack.Screen name=\"History\" component={History} />\r\n            <Stack.Screen name=\"Payment\" component={Payment} />\r\n            <Stack.Screen name=\"Profile\" component={Profile} />\r\n            <Stack.Screen name=\"FAQ\" component={Chat} />\r\n        </Stack.Navigator>\r\n    );\r\n}\r\n\r\n\r\nconst RootStackScreen = ({ navigation }) => (\r\n    <Stack.Navigator headerMode='none'>\r\n        <Stack.Screen name=\"login\" component={Login} />\r\n        <Stack.Screen name=\"SignUp\" component={SignUp} />\r\n        <Stack.Screen name=\"SplashScreen\" component={SplashScreen} />\r\n    </Stack.Navigator>\r\n);\r\n\r\n\r\n\r\nfunction DrawerNavigator() {\r\n    return (\r\n        <Drawer.Navigator drawerContentOptions={{\r\n            activeTintColor: '#e91e63',\r\n            itemStyle: { marginVertical: 30 },\r\n        }} drawerContent={props => <DrawerContent {...props} />}>\r\n            <Drawer.Screen name=\"Home\" component={MainNavigator} />\r\n            {/* <Drawer.Screen name=\"Login\" component={Login} /> */}\r\n            {/* <Drawer.Screen name=\"UserProfileView\" component={UserProfileView} /> */}\r\n            <Drawer.Screen name=\"TrackDriver\" component={TrackDriver} />\r\n        </Drawer.Navigator>\r\n    )\r\n}\r\n/* const MainNavigator = createStackNavigator({\r\n    Login: { screen: Login },\r\n    UserProfileView: { screen: UserProfileView }\r\n},\r\n    {\r\n        initialRouteName: \"UserProfileView\",\r\n        headerMode: \"none\",\r\n        swipeEnabled: false\r\n    }); */\r\nconst MainRoute = Container;\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { cleanUp })(MainRoute);"]},"metadata":{},"sourceType":"script"}